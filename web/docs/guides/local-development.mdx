---
id: local-development
title: Local Development
description: How to use Supabase on your local development machine.
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Supabase provides a CLI so that you can develop your application locally, with the ability to deploy your application to the Supabase platform.

## Getting started

### Prerequisites

You will need to have these in your environment:

- Git
- Docker (make sure the daemon is up and running)
- Supabase CLI (instructions [here](https://github.com/supabase/cli))

### Initialize your project 

```bash
# create your project folder
mkdir your-project

# move into the new folder
cd your-project

# start a new git repository
git init
```

This command will create an empty folder for your project and start a new git repository.

### Initialize Supabase

```bash
supabase init
```

This command will create a `supabase` folder which holds all the configuration for developing your project locally.

### Remote project 

We can link any local project to a remote database. Use the connection string from your Supabase project here.

```bash
supabase db remote set 'postgresql://postgres:<your_password>@db.<your_project_ref>.supabase.co:5432/postgres'
```

After that, run:

```bash
supabase db remote commit
```
Why do we need to do this? Because you may have modified your remote database's schema (e.g. using the Table Editor) after the project is set up. 
In that case we want to record these changes as applied migrations (i.e. they are not run again on the remote database). 
This is useful if you want to start using the CLI after playing a bit with the Supabase project.

You'll notice that `supabase/migrations` is now populated with a migration in `..._remote_commit.sql`. 
This migration performs the change needed so that your migrations reflect the schema of your Supabase project.

### Start Supabase

```bash
supabase start
```

This command uses Docker to start all the open source [services](/docs/#how-it-works) of Supabase. This command will take a while to run, there are a lot of services to build.

Once this is running, you will see an output that contains your local Supabase credentials.

### Accessing Services Directly

<Tabs
defaultValue="Postgres"
values={[
  {label: 'Postgres', value: 'Postgres'},
  {label: 'API Gateway', value: 'Kong'},
]}>
<TabItem value="Postgres">

```sh
# Default URL:
postgresql://postgres:postgres@localhost:54322/postgres
```

The local Postgres instance can be accessed through [`psql`](https://www.postgresql.org/docs/current/app-psql.html)
or any other Postgres client, such as [pgadmin](https://www.pgadmin.org/).

For example:

```bash
psql 'postgresql://postgres:postgres@localhost:54322/postgres'
```

</TabItem>
<TabItem value="Kong">

```sh
# Default URL:
http://localhost:54321
```

All of the services are accessible through the API Gateway [Kong](https://github.com/Kong/kong)).
If you are accessing these services without the client libraries, you may need to pass the client keys as an `Authorization` header.
You can learn more about these JWT headers in our [Resources](/docs/learn/auth-deep-dive/auth-deep-dive-jwts).

```sh
curl 'http://localhost:54321/rest/v1/' \
    -H "apikey: <anon key>" \
    -H "Authorization: Bearer <anon key>"

http://localhost:54321/rest/v1/           # REST (PostgREST)
http://localhost:54321/realtime/v1/       # Realtime
http://localhost:54321/storage/v1/        # Storage
http://localhost:54321/auth/v1/           # Auth (GoTrue)
```

</TabItem>
</Tabs>

### Stop Supabase

```bash
supabase stop
```

Stop Supabase services and let's build a real application next.

## Migrations

You can also use the CLI to manage your migrations. 


## 2. Changing schema

To change the schema for the local database, simply run some SQL against the `DB URL` shown by `supabase start`. For the tour, we'll run these changes using a Postgres client of your choice:

```sql
CREATE TABLE boarders(
	id int4 PRIMARY KEY,
	name text
);
```

Now we have the `boarders` table in the local database, but how do we incorporate this into migrations? The CLI can automatically detect changes by running:

```sh
supabase db commit add_boarders
```

This will create a new migration named `<timestamp>_add_boarders.sql` that represents any changes we've made to the local database since `supabase start`.

Let's add some sample data into the table. To do this we can use the seed script in `supabase/seed.sql`. 

```sql
-- in supabase/seed.sql
INSERT INTO boarders(id, name) VALUES (1, 'Arthur Dent'), (2, 'Ford Prefect');
```

Now run the following to rerun the migration scripts and the seed script:

```sql
supabase db reset
```

Then run the following:

```sh
npm install
npm run start
```

You should now see the contents of `boarders`. 

## 3. Resetting schema changes

If you run some SQL on the local database which you want to revert, you can use the `reset` command.

```sql
-- run on local database
ALTER TABLE boarders ADD occupation text DEFAULT 'Hitchhiker';
```

For that we run:

```sh
supabase db reset
```

And the local database will be reset.

## 4. Deploying migrations

Finally, we need to deploy all these local changes to the remote database, i.e. the Supabase project DB. Once you're happy with your schema changes, run:

```sh
supabase db push
```

## Next steps

- Got a question? [Ask here](https://github.com/supabase/supabase/discussions).
- CLI repository: [GitHub](https://github.com/supabase/cli).
- Sign in: [app.supabase.io](https://app.supabase.io)
