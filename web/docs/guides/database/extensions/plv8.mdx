---
id: plv8
title: "plv8: Javascript Language"
description: Javascript language for PostgreSQL.
---

import ExtensionsComponent from '../../../../src/components/Extensions'
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

The `plv8` extension allows you use Javascript within Postgres. 

## Overview

While Postgres natively runs SQL, it can also run other "procedural languages". 
`plv8` allows you to run Javascript code - specifically any code that runs on the [V8 Jasvascript engine](https://v8.dev).

It can be used for database functions, triggers, queries and more.

## Usage


### Enabling


<Tabs
defaultValue="UI"
values={[
  {label: 'UI', value: 'UI'},
  {label: 'SQL', value: 'SQL'},
]}>
<TabItem value="UI">

```sh
1. Go to the Database page.
2. Click on "Extensions" in the sidebar.
3. Search for "plv8".
4. Click the toggle.
```



</TabItem>
<TabItem value="SQL">

```sql 

-- Example: enable the "plv8" extension 
create extension plv8;

-- Example: disable the "plv8" extension 
drop extension plv8;

```

Even though the SQL code is `create extension`, this is the equivalent of "enabling the extension". 
To disable an extension you can call `drop extension`.

</TabItem>

</Tabs>

### Creating `plv8` functions

Functions written in `plv8` are written just like any other PostgreSQL functions, only
with the `language` identifier set to `plv8`.

```sql
create or replace function function_name() 
returns void as $$
    // V8 Javascript
    // code
    // here
$$ language plv8;
```

You can call `plv8` functions like any other Postgres function: 

```sql
select function_name();
```


## Examples

### Scalar Functions

A [scalar function](https://plv8.github.io/#scalar-function-calls) is anything that takes in some user input and returns a single result.

```sql
create or replace function hello_world(name text) 
returns text as $$

    let output = `Hello, ${name}!`;
    return output;

$$ language plv8;
```

### Set-returning Functions

A [set-returning function](https://plv8.github.io/#set-returning-function-calls) is anything that returns a full set of results - for example, rows in a table.

```sql
create or replace function get_rows() 
returns text as $$

    -- @TODO

$$ language plv8;
```


## Configuration

@TODO: break this down: 


> It has its own runtime environment that can be customized with a runtime startup procedure (`set plv8.start_proc`)
and execution timeout period (`set plv8.execution_timeout`).  It can execute multiple types of function calls inside of PostgreSQL
including `Scalar Function Calls`, `Set-returning Function Calls`, `Trigger Function Calls`, and more.


## Resources 

- Official [`plv8` documentation](https://plv8.github.io/).
- [plv8 Github Repository](https://github.com/plv8/plv8).