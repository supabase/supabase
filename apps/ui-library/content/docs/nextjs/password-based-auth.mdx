---
title: Password-based Auth (Next.js)
description: Password-based Auth block for Next.js app
---

<BlockPreview name="password-based-auth/sign-up" />

## Installation

<BlockItem
  name="password-based-auth-nextjs"
  description="All needed components for the password based auth flow"
/>

## Folder structure

This block includes the [Supabase client](/ui/docs/nextjs/client). When installing, you can skip overwriting it.

<RegistryBlock itemName="password-based-auth-nextjs" />

## Usage

After installing the block in your Next.js project, you'll have all needed pages and components to build a password-based authentication flow.

To finish the installation:

1. Set the `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY` environment variables in your `.env` file in your project. Find them in the [Connect modal](https://supabase.com/dashboard/project/_?showConnect=true) under App Frameworks.
1. Add an [email template for sign-up](https://supabase.com/dashboard/project/_/auth/templates) to the Supabase project. Your signup email template should contain at least the following HTML:

   ```html
   <h2>Confirm your signup</h2>

   <p>Follow this link to confirm your user:</p>
   <p>
     <a
       href="{{ .SiteURL }}/auth/confirm?token_hash={{ .TokenHash }}&type=email&next={{ .RedirectTo }}"
       >Confirm your email</a
     >
   </p>
   ```

   For detailed instructions on how to configure your email templates, including the use of variables like `{{ .SiteURL }}`,`{{ .TokenHash }}`, and `{{ .RedirectTo }}`, refer to our [Email Templates guide](/docs/email-templates).

1. Set the site URL in the [Supabase Dashboard](https://supabase.com/dashboard/project/_/auth/url-configuration).
1. Set the `forgot-password` route in `forgot-password-form.tsx` component. The same route also needs to be configured as a redirect URL in the [Supabase Dashboard](https://supabase.com/dashboard/project/_/auth/url-configuration). It should look something like this: `http://example.com/auth/forgot-password`.
1. Update the redirect paths in the `login-form.tsx` and `update-password-form.tsx` components to point to the logged-in routes in your app.

You can use this block with pages router by simply moving the routes from the `app` folder into the `pages` folder and renaming them.
