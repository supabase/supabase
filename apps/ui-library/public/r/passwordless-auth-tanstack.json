{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "passwordless-auth-tanstack",
  "type": "registry:block",
  "title": "Passwordless Auth for TanStack and Supabase",
  "description": "Passwordless authentication for TanStack using Supabase Auth. Supports both Magic Link and OTP (One-Time Password) login methods.",
  "dependencies": [
    "@supabase/ssr@latest",
    "@supabase/supabase-js@latest"
  ],
  "registryDependencies": [
    "button",
    "card",
    "input",
    "label"
  ],
  "files": [
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/components/passwordless-login-form.tsx",
      "content": "'use client'\n\nimport { cn } from '@/lib/utils'\nimport { createClient } from '@/registry/default/clients/tanstack/lib/supabase/client'\nimport { Button } from '@/registry/default/components/ui/button'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/registry/default/components/ui/card'\nimport { Input } from '@/registry/default/components/ui/input'\nimport { Label } from '@/registry/default/components/ui/label'\nimport { useNavigate } from '@tanstack/react-router'\nimport { useState } from 'react'\n\ntype LoginMethod = 'magic-link' | 'otp'\n\ninterface PasswordlessLoginFormProps extends React.ComponentPropsWithoutRef<'div'> {\n  method?: LoginMethod\n}\n\nexport function PasswordlessLoginForm({\n  className,\n  method = 'magic-link',\n  ...props\n}: PasswordlessLoginFormProps) {\n  const [email, setEmail] = useState('')\n  const [error, setError] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isMagicLinkSent, setIsMagicLinkSent] = useState(false)\n  const navigate = useNavigate()\n  const supabase = createClient()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n    setIsMagicLinkSent(false)\n\n    try {\n      if (method === 'magic-link') {\n        const { error } = await supabase.auth.signInWithOtp({\n          email,\n          options: {\n            shouldCreateUser: true,\n            emailRedirectTo: `${window.location.origin}/auth/confirm`,\n          },\n        })\n        if (error) throw error\n        setIsMagicLinkSent(true)\n      } else {\n        // OTP method\n        const { error } = await supabase.auth.signInWithOtp({\n          email,\n          options: {\n            shouldCreateUser: true,\n          },\n        })\n        if (error) throw error\n        // Navigate to OTP verification page\n        navigate({ to: '/verify-otp', search: { email } })\n      }\n    } catch (error: unknown) {\n      setError(error instanceof Error ? error.message : 'An error occurred')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className={cn('flex flex-col gap-6', className)} {...props}>\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-2xl\">Sign up</CardTitle>\n          <CardDescription>Sign in or create a new account</CardDescription>\n        </CardHeader>\n        <CardContent>\n          {isMagicLinkSent ? (\n            <div className=\"rounded-lg border border-green-200 bg-green-50 p-4 text-sm text-green-800\">\n              <p className=\"font-semibold\">Check your email!</p>\n              <p className=\"mt-1\">\n                We&apos;ve sent a magic link to <span className=\"font-medium\">{email}</span>. Click\n                the link in the email to sign in.\n              </p>\n              <Button\n                variant=\"outline\"\n                className=\"mt-4 w-full\"\n                onClick={() => {\n                  setIsMagicLinkSent(false)\n                  setEmail('')\n                }}\n              >\n                Send another link\n              </Button>\n            </div>\n          ) : (\n            <form onSubmit={handleSubmit}>\n              <div className=\"flex flex-col gap-6\">\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"m@example.com\"\n                    required\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    disabled={isLoading}\n                  />\n                </div>\n                {error && <p className=\"text-sm text-red-500\">{error}</p>}\n                <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                  {isLoading\n                    ? method === 'magic-link'\n                      ? 'Sending magic link...'\n                      : 'Sending code...'\n                    : method === 'magic-link'\n                      ? 'Send magic link'\n                      : 'Send verification code'}\n                </Button>\n              </div>\n            </form>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/components/magic-link-form.tsx",
      "content": "'use client'\n\nimport { cn } from '@/lib/utils'\nimport { createClient } from '@/registry/default/clients/tanstack/lib/supabase/client'\nimport { Button } from '@/registry/default/components/ui/button'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/registry/default/components/ui/card'\nimport { Input } from '@/registry/default/components/ui/input'\nimport { Label } from '@/registry/default/components/ui/label'\nimport { useState } from 'react'\n\nexport function MagicLinkForm({ className, ...props }: React.ComponentPropsWithoutRef<'div'>) {\n  const [email, setEmail] = useState('')\n  const [error, setError] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isSuccess, setIsSuccess] = useState(false)\n  const supabase = createClient()\n\n  const handleMagicLinkRequest = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n    setIsSuccess(false)\n\n    try {\n      const { error } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n          // Set this to false if you do not want the user to be automatically signed up\n          shouldCreateUser: true,\n          emailRedirectTo: `${window.location.origin}/auth/confirm`,\n        },\n      })\n      if (error) throw error\n      setIsSuccess(true)\n    } catch (error: unknown) {\n      setError(error instanceof Error ? error.message : 'An error occurred')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className={cn('flex flex-col gap-6', className)} {...props}>\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-2xl\">Magic Link Login</CardTitle>\n          <CardDescription>\n            Enter your email to receive a magic link for passwordless login\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {isSuccess ? (\n            <div className=\"rounded-lg border border-green-200 bg-green-50 p-4 text-sm text-green-800\">\n              <p className=\"font-semibold\">Check your email!</p>\n              <p className=\"mt-1\">\n                We&apos;ve sent a magic link to <span className=\"font-medium\">{email}</span>. Click\n                the link in the email to sign in.\n              </p>\n            </div>\n          ) : (\n            <form onSubmit={handleMagicLinkRequest}>\n              <div className=\"flex flex-col gap-6\">\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"m@example.com\"\n                    required\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    disabled={isLoading}\n                  />\n                </div>\n                {error && <p className=\"text-sm text-red-500\">{error}</p>}\n                <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                  {isLoading ? 'Sending magic link...' : 'Send magic link'}\n                </Button>\n              </div>\n            </form>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/components/otp-request-form.tsx",
      "content": "'use client'\n\nimport { cn } from '@/lib/utils'\nimport { createClient } from '@/registry/default/clients/tanstack/lib/supabase/client'\nimport { Button } from '@/registry/default/components/ui/button'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/registry/default/components/ui/card'\nimport { Input } from '@/registry/default/components/ui/input'\nimport { Label } from '@/registry/default/components/ui/label'\nimport { useNavigate } from '@tanstack/react-router'\nimport { useState } from 'react'\n\nexport function OTPRequestForm({ className, ...props }: React.ComponentPropsWithoutRef<'div'>) {\n  const [email, setEmail] = useState('')\n  const [error, setError] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const navigate = useNavigate()\n  const supabase = createClient()\n\n  const handleOTPRequest = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const { error } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n          // Set this to false if you do not want the user to be automatically signed up\n          shouldCreateUser: true,\n        },\n      })\n      if (error) throw error\n      // Navigate to OTP verification page\n      navigate({ to: '/verify-otp', search: { email } })\n    } catch (error: unknown) {\n      setError(error instanceof Error ? error.message : 'An error occurred')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className={cn('flex flex-col gap-6', className)} {...props}>\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-2xl\">OTP Login</CardTitle>\n          <CardDescription>\n            Enter your email to receive a one-time password for passwordless login\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleOTPRequest}>\n            <div className=\"flex flex-col gap-6\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"m@example.com\"\n                  required\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  disabled={isLoading}\n                />\n              </div>\n              {error && <p className=\"text-sm text-red-500\">{error}</p>}\n              <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                {isLoading ? 'Sending code...' : 'Send verification code'}\n              </Button>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/components/otp-verify-form.tsx",
      "content": "'use client'\n\nimport { cn } from '@/lib/utils'\nimport { createClient } from '@/registry/default/clients/tanstack/lib/supabase/client'\nimport { Button } from '@/registry/default/components/ui/button'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/registry/default/components/ui/card'\nimport { Input } from '@/registry/default/components/ui/input'\nimport { Label } from '@/registry/default/components/ui/label'\nimport { useNavigate, useSearch } from '@tanstack/react-router'\nimport { useState } from 'react'\n\nexport function OTPVerifyForm({ className, ...props }: React.ComponentPropsWithoutRef<'div'>) {\n  const search = useSearch({ strict: false })\n  const email = (search as { email?: string })?.email || ''\n  const [otp, setOTP] = useState('')\n  const [error, setError] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isResending, setIsResending] = useState(false)\n  const navigate = useNavigate()\n  const supabase = createClient()\n\n  const handleVerifyOTP = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const { error } = await supabase.auth.verifyOtp({\n        email,\n        token: otp,\n        type: 'email',\n      })\n      if (error) throw error\n      // Redirect to protected page after successful verification\n      navigate({ to: '/protected' })\n    } catch (error: unknown) {\n      setError(error instanceof Error ? error.message : 'An error occurred')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleResendOTP = async () => {\n    setIsResending(true)\n    setError(null)\n\n    try {\n      const { error } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n          shouldCreateUser: false,\n        },\n      })\n      if (error) throw error\n      setError(null)\n      // Show success message\n      alert('A new verification code has been sent to your email.')\n    } catch (error: unknown) {\n      setError(error instanceof Error ? error.message : 'Failed to resend code')\n    } finally {\n      setIsResending(false)\n    }\n  }\n\n  return (\n    <div className={cn('flex flex-col gap-6', className)} {...props}>\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-2xl\">Verify Your Email</CardTitle>\n          <CardDescription>\n            Enter the 6-digit code sent to{' '}\n            <span className=\"font-medium text-foreground\">{email}</span>\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleVerifyOTP}>\n            <div className=\"flex flex-col gap-6\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"otp\">Verification Code</Label>\n                <Input\n                  id=\"otp\"\n                  type=\"text\"\n                  placeholder=\"123456\"\n                  required\n                  maxLength={6}\n                  pattern=\"[0-9]{6}\"\n                  value={otp}\n                  onChange={(e) => setOTP(e.target.value.replace(/\\D/g, ''))}\n                  disabled={isLoading}\n                  className=\"text-center text-2xl tracking-widest\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Enter the 6-digit code</p>\n              </div>\n              {error && <p className=\"text-sm text-red-500\">{error}</p>}\n              <Button type=\"submit\" className=\"w-full\" disabled={isLoading || otp.length !== 6}>\n                {isLoading ? 'Verifying...' : 'Verify Code'}\n              </Button>\n              <div className=\"text-center text-sm\">\n                Didn&apos;t receive a code?{' '}\n                <button\n                  type=\"button\"\n                  onClick={handleResendOTP}\n                  disabled={isResending}\n                  className=\"text-primary underline-offset-4 hover:underline disabled:opacity-50\"\n                >\n                  {isResending ? 'Sending...' : 'Resend'}\n                </button>\n              </div>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/__root.tsx",
      "content": "import { createRootRoute, Outlet } from '@tanstack/react-router'\n\nexport const Route = createRootRoute({\n  component: () => <Outlet />,\n})\n",
      "type": "registry:file",
      "target": "routes/__root.tsx"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/index.tsx",
      "content": "import { createFileRoute, redirect } from '@tanstack/react-router'\n\nexport const Route = createFileRoute('/')({\n  beforeLoad: () => {\n    throw redirect({ to: '/passwordless' })\n  },\n})\n",
      "type": "registry:file",
      "target": "routes/index.tsx"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/passwordless.tsx",
      "content": "import { PasswordlessLoginForm } from '@/registry/default/blocks/passwordless-auth-tanstack/components/passwordless-login-form'\nimport { createFileRoute } from '@tanstack/react-router'\n\nexport const Route = createFileRoute('/passwordless')({\n  component: PasswordlessPage,\n})\n\nfunction PasswordlessPage() {\n  return (\n    <div className=\"flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10\">\n      <div className=\"w-full max-w-sm\">\n        <PasswordlessLoginForm method=\"magic-link\" />\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:file",
      "target": "routes/passwordless.tsx"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/auth/error.tsx",
      "content": "import {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/registry/default/components/ui/card'\nimport { Button } from '@/registry/default/components/ui/button'\nimport { Link, createFileRoute } from '@tanstack/react-router'\n\nexport const Route = createFileRoute('/auth/error')({\n  component: AuthErrorPage,\n})\n\nfunction AuthErrorPage() {\n  return (\n    <div className=\"flex min-h-svh w-full items-center justify-center p-6 md:p-10\">\n      <div className=\"w-full max-w-sm\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-2xl\">Authentication Error</CardTitle>\n            <CardDescription>There was an error authenticating your account</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-col gap-4\">\n              <p className=\"text-sm text-muted-foreground\">\n                The authentication link may have expired or is invalid. Please try requesting a new\n                one.\n              </p>\n              <Button asChild className=\"w-full\">\n                <Link to=\"/passwordless\">Try again</Link>\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:file",
      "target": "routes/auth/error.tsx"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/_protected.tsx",
      "content": "import { fetchUserServerFn } from '@/registry/default/blocks/passwordless-auth-tanstack/lib/supabase/fetch-user-server-fn'\nimport { createFileRoute, Outlet, redirect } from '@tanstack/react-router'\n\nexport const Route = createFileRoute('/_protected')({\n  beforeLoad: async () => {\n    const user = await fetchUserServerFn()\n    if (!user) {\n      throw redirect({\n        to: '/passwordless',\n      })\n    }\n    return { user }\n  },\n  component: () => <Outlet />,\n})\n",
      "type": "registry:file",
      "target": "routes/_protected.tsx"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/_protected/protected.tsx",
      "content": "import { Button } from '@/registry/default/components/ui/button'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/registry/default/components/ui/card'\nimport { createFileRoute, useRouter } from '@tanstack/react-router'\nimport { createClient } from '@/registry/default/clients/tanstack/lib/supabase/client'\n\nexport const Route = createFileRoute('/_protected/protected')({\n  component: ProtectedPage,\n})\n\nfunction ProtectedPage() {\n  const router = useRouter()\n  const { user } = Route.useRouteContext()\n  const supabase = createClient()\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut()\n    router.navigate({ to: '/passwordless' })\n  }\n\n  return (\n    <div className=\"flex min-h-svh w-full items-center justify-center p-6 md:p-10\">\n      <div className=\"w-full max-w-sm\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-2xl\">Protected Page</CardTitle>\n            <CardDescription>You are logged in</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-col gap-4\">\n              <div className=\"rounded-lg border p-4\">\n                <p className=\"text-sm font-medium\">Email</p>\n                <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n              </div>\n              <div className=\"rounded-lg border p-4\">\n                <p className=\"text-sm font-medium\">User ID</p>\n                <p className=\"text-sm text-muted-foreground\">{user.id}</p>\n              </div>\n              <Button onClick={handleSignOut} variant=\"outline\" className=\"w-full\">\n                Sign out\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:file",
      "target": "routes/_protected/protected.tsx"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/auth/confirm.ts",
      "content": "import { createClient } from '@/registry/default/clients/tanstack/lib/supabase/server'\nimport { type EmailOtpType } from '@supabase/supabase-js'\nimport { createFileRoute, redirect } from '@tanstack/react-router'\nimport { createServerFn } from '@tanstack/react-start'\nimport { getWebRequest } from '@tanstack/react-start/server'\n\nconst confirmFn = createServerFn({ method: 'GET' })\n  .validator((searchParams: unknown) => {\n    if (\n      searchParams &&\n      typeof searchParams === 'object' &&\n      'token_hash' in searchParams &&\n      'type' in searchParams\n    ) {\n      return searchParams as Record<string, unknown>\n    }\n    throw new Error('Invalid search params')\n  })\n  .handler(async (ctx) => {\n    const request = getWebRequest()\n\n    if (!request) {\n      throw redirect({ to: `/auth/error`, search: { error: 'No request' } })\n    }\n\n    const searchParams = ctx.data\n    const token_hash = searchParams['token_hash'] as string\n    const type = searchParams['type'] as EmailOtpType | null\n    const _next = searchParams['next'] as string | undefined\n    const next = _next?.startsWith('/') ? _next : '/protected'\n\n    if (token_hash && type) {\n      const supabase = createClient()\n\n      const { error } = await supabase.auth.verifyOtp({\n        type,\n        token_hash,\n      })\n      if (!error) {\n        // redirect user to specified redirect URL or protected page\n        throw redirect({ href: next })\n      } else {\n        // redirect the user to an error page with some instructions\n        throw redirect({\n          to: `/auth/error`,\n          search: { error: error?.message },\n        })\n      }\n    }\n\n    // redirect the user to an error page with some instructions\n    throw redirect({\n      to: `/auth/error`,\n      search: { error: 'No token hash or type' },\n    })\n  })\n\nexport const Route = createFileRoute('/auth/confirm')({\n  preload: false,\n  loader: (opts) => confirmFn({ data: opts.location.search }),\n})\n",
      "type": "registry:file",
      "target": "routes/auth/confirm.ts"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routes/verify-otp.tsx",
      "content": "import { OTPVerifyForm } from '@/registry/default/blocks/passwordless-auth-tanstack/components/otp-verify-form'\nimport { createFileRoute } from '@tanstack/react-router'\n\nexport const Route = createFileRoute('/verify-otp')({\n  component: VerifyOTPPage,\n  validateSearch: (search: Record<string, unknown>): { email?: string } => {\n    return {\n      email: (search.email as string) || undefined,\n    }\n  },\n})\n\nfunction VerifyOTPPage() {\n  return (\n    <div className=\"flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10\">\n      <div className=\"w-full max-w-sm\">\n        <OTPVerifyForm />\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:file",
      "target": "routes/verify-otp.tsx"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/lib/supabase/fetch-user-server-fn.ts",
      "content": "import { createClient } from '@/registry/default/clients/tanstack/lib/supabase/server'\nimport type { Factor, User } from '@supabase/supabase-js'\nimport { createServerFn } from '@tanstack/react-start'\ntype SSRSafeUser = User & {\n  factors: (Factor & { factor_type: 'phone' | 'totp' })[]\n}\n\nexport const fetchUserServerFn: () => Promise<SSRSafeUser | null> = createServerFn({\n  method: 'GET',\n}).handler(async () => {\n  const supabase = createClient()\n  const { data, error } = await supabase.auth.getUser()\n\n  if (error) {\n    return null\n  }\n\n  return data.user as SSRSafeUser\n})\n",
      "type": "registry:lib"
    },
    {
      "path": "registry/default/blocks/passwordless-auth-tanstack/routeTree.gen.ts",
      "content": "/* eslint-disable */\n\n// @ts-nocheck\n\n// noinspection JSUnusedGlobalSymbols\n\n// This file was automatically generated by TanStack Router.\n// You should NOT make any changes in this file as it will be overwritten.\n// Additionally, you should also exclude this file from your linter and/or formatter to prevent it from being checked or modified.\n\n// Import Routes\n\nimport { Route as rootRoute } from './routes/__root'\nimport { Route as ProtectedImport } from './routes/_protected'\nimport { Route as ProtectedProtectedImport } from './routes/_protected/protected'\nimport { Route as AuthConfirmImport } from './routes/auth/confirm'\nimport { Route as AuthErrorImport } from './routes/auth/error'\nimport { Route as IndexImport } from './routes/index'\nimport { Route as PasswordlessImport } from './routes/passwordless'\nimport { Route as VerifyOtpImport } from './routes/verify-otp'\n\n// Create/Update Routes\n\nconst VerifyOtpRoute = VerifyOtpImport.update({\n  id: '/verify-otp',\n  path: '/verify-otp',\n  getParentRoute: () => rootRoute,\n} as any)\n\nconst PasswordlessRoute = PasswordlessImport.update({\n  id: '/passwordless',\n  path: '/passwordless',\n  getParentRoute: () => rootRoute,\n} as any)\n\nconst ProtectedRoute = ProtectedImport.update({\n  id: '/_protected',\n  getParentRoute: () => rootRoute,\n} as any)\n\nconst IndexRoute = IndexImport.update({\n  id: '/',\n  path: '/',\n  getParentRoute: () => rootRoute,\n} as any)\n\nconst AuthErrorRoute = AuthErrorImport.update({\n  id: '/auth/error',\n  path: '/auth/error',\n  getParentRoute: () => rootRoute,\n} as any)\n\nconst AuthConfirmRoute = AuthConfirmImport.update({\n  id: '/auth/confirm',\n  path: '/auth/confirm',\n  getParentRoute: () => rootRoute,\n} as any)\n\nconst ProtectedProtectedRoute = ProtectedProtectedImport.update({\n  id: '/protected',\n  path: '/protected',\n  getParentRoute: () => ProtectedRoute,\n} as any)\n\n// Populate the FileRoutesByPath interface\n\ndeclare module '@tanstack/react-router' {\n  interface FileRoutesByPath {\n    '/': {\n      id: '/'\n      path: '/'\n      fullPath: '/'\n      preLoaderRoute: typeof IndexImport\n      parentRoute: typeof rootRoute\n    }\n    '/_protected': {\n      id: '/_protected'\n      path: ''\n      fullPath: ''\n      preLoaderRoute: typeof ProtectedImport\n      parentRoute: typeof rootRoute\n    }\n    '/passwordless': {\n      id: '/passwordless'\n      path: '/passwordless'\n      fullPath: '/passwordless'\n      preLoaderRoute: typeof PasswordlessImport\n      parentRoute: typeof rootRoute\n    }\n    '/verify-otp': {\n      id: '/verify-otp'\n      path: '/verify-otp'\n      fullPath: '/verify-otp'\n      preLoaderRoute: typeof VerifyOtpImport\n      parentRoute: typeof rootRoute\n    }\n    '/_protected/protected': {\n      id: '/_protected/protected'\n      path: '/protected'\n      fullPath: '/protected'\n      preLoaderRoute: typeof ProtectedProtectedImport\n      parentRoute: typeof ProtectedImport\n    }\n    '/auth/confirm': {\n      id: '/auth/confirm'\n      path: '/auth/confirm'\n      fullPath: '/auth/confirm'\n      preLoaderRoute: typeof AuthConfirmImport\n      parentRoute: typeof rootRoute\n    }\n    '/auth/error': {\n      id: '/auth/error'\n      path: '/auth/error'\n      fullPath: '/auth/error'\n      preLoaderRoute: typeof AuthErrorImport\n      parentRoute: typeof rootRoute\n    }\n  }\n}\n\n// Create and export the route tree\n\ninterface ProtectedRouteChildren {\n  ProtectedProtectedRoute: typeof ProtectedProtectedRoute\n}\n\nconst ProtectedRouteChildren: ProtectedRouteChildren = {\n  ProtectedProtectedRoute: ProtectedProtectedRoute,\n}\n\nconst ProtectedRouteWithChildren = ProtectedRoute._addFileChildren(ProtectedRouteChildren)\n\nexport interface FileRoutesByFullPath {\n  '/': typeof IndexRoute\n  '': typeof ProtectedRouteWithChildren\n  '/passwordless': typeof PasswordlessRoute\n  '/verify-otp': typeof VerifyOtpRoute\n  '/protected': typeof ProtectedProtectedRoute\n  '/auth/confirm': typeof AuthConfirmRoute\n  '/auth/error': typeof AuthErrorRoute\n}\n\nexport interface FileRoutesByTo {\n  '/': typeof IndexRoute\n  '': typeof ProtectedRouteWithChildren\n  '/passwordless': typeof PasswordlessRoute\n  '/verify-otp': typeof VerifyOtpRoute\n  '/protected': typeof ProtectedProtectedRoute\n  '/auth/confirm': typeof AuthConfirmRoute\n  '/auth/error': typeof AuthErrorRoute\n}\n\nexport interface FileRoutesById {\n  __root__: typeof rootRoute\n  '/': typeof IndexRoute\n  '/_protected': typeof ProtectedRouteWithChildren\n  '/passwordless': typeof PasswordlessRoute\n  '/verify-otp': typeof VerifyOtpRoute\n  '/_protected/protected': typeof ProtectedProtectedRoute\n  '/auth/confirm': typeof AuthConfirmRoute\n  '/auth/error': typeof AuthErrorRoute\n}\n\nexport interface FileRouteTypes {\n  fileRoutesByFullPath: FileRoutesByFullPath\n  fullPaths:\n    | '/'\n    | ''\n    | '/passwordless'\n    | '/verify-otp'\n    | '/protected'\n    | '/auth/confirm'\n    | '/auth/error'\n  fileRoutesByTo: FileRoutesByTo\n  to: '/' | '' | '/passwordless' | '/verify-otp' | '/protected' | '/auth/confirm' | '/auth/error'\n  id:\n    | '__root__'\n    | '/'\n    | '/_protected'\n    | '/passwordless'\n    | '/verify-otp'\n    | '/_protected/protected'\n    | '/auth/confirm'\n    | '/auth/error'\n  fileRoutesById: FileRoutesById\n}\n\nexport interface RootRouteChildren {\n  IndexRoute: typeof IndexRoute\n  ProtectedRoute: typeof ProtectedRouteWithChildren\n  PasswordlessRoute: typeof PasswordlessRoute\n  VerifyOtpRoute: typeof VerifyOtpRoute\n  AuthConfirmRoute: typeof AuthConfirmRoute\n  AuthErrorRoute: typeof AuthErrorRoute\n}\n\nconst rootRouteChildren: RootRouteChildren = {\n  IndexRoute: IndexRoute,\n  ProtectedRoute: ProtectedRouteWithChildren,\n  PasswordlessRoute: PasswordlessRoute,\n  VerifyOtpRoute: VerifyOtpRoute,\n  AuthConfirmRoute: AuthConfirmRoute,\n  AuthErrorRoute: AuthErrorRoute,\n}\n\nexport const routeTree = rootRoute\n  ._addFileChildren(rootRouteChildren)\n  ._addFileTypes<FileRouteTypes>()\n\n/* ROUTE_MANIFEST_START\n{\n  \"routes\": {\n    \"__root__\": {\n      \"filePath\": \"__root.tsx\",\n      \"children\": [\n        \"/\",\n        \"/_protected\",\n        \"/passwordless\",\n        \"/verify-otp\",\n        \"/auth/confirm\",\n        \"/auth/error\"\n      ]\n    },\n    \"/\": {\n      \"filePath\": \"index.tsx\"\n    },\n    \"/_protected\": {\n      \"filePath\": \"_protected.tsx\",\n      \"children\": [\n        \"/_protected/protected\"\n      ]\n    },\n    \"/passwordless\": {\n      \"filePath\": \"passwordless.tsx\"\n    },\n    \"/verify-otp\": {\n      \"filePath\": \"verify-otp.tsx\"\n    },\n    \"/_protected/protected\": {\n      \"filePath\": \"_protected/protected.tsx\",\n      \"parent\": \"/_protected\"\n    },\n    \"/auth/confirm\": {\n      \"filePath\": \"auth/confirm.ts\"\n    },\n    \"/auth/error\": {\n      \"filePath\": \"auth/error.tsx\"\n    }\n  }\n}\nROUTE_MANIFEST_END */\n",
      "type": "registry:file",
      "target": "routeTree.gen.ts"
    },
    {
      "path": "registry/default/clients/tanstack/lib/supabase/client.ts",
      "content": "/// <reference types=\"vite/types/importMeta.d.ts\" />\nimport { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    import.meta.env.VITE_SUPABASE_URL!,\n    import.meta.env.VITE_SUPABASE_PUBLISHABLE_OR_ANON_KEY!\n  )\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "registry/default/clients/tanstack/lib/supabase/server.ts",
      "content": "import { createServerClient } from '@supabase/ssr'\nimport { parseCookies, setCookie } from '@tanstack/react-start/server'\n\nexport function createClient() {\n  return createServerClient(\n    process.env.VITE_SUPABASE_URL!,\n    process.env.VITE_SUPABASE_PUBLISHABLE_OR_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return Object.entries(parseCookies()).map(\n            ([name, value]) =>\n              ({\n                name,\n                value,\n              }) as { name: string; value: string }\n          )\n        },\n        setAll(cookies) {\n          cookies.forEach((cookie) => {\n            setCookie(cookie.name, cookie.value)\n          })\n        },\n      },\n    }\n  )\n}\n",
      "type": "registry:lib"
    }
  ],
  "envVars": {
    "VITE_SUPABASE_URL": "",
    "VITE_SUPABASE_PUBLISHABLE_OR_ANON_KEY": ""
  },
  "docs": "You'll need to set the following environment variables in your project: `VITE_SUPABASE_URL` and `VITE_SUPABASE_PUBLISHABLE_OR_ANON_KEY`."
}