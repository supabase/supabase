---
id: 'platform-as-a-service'
title: 'Supabase as a Service'
description: 'Use Supabase as a Platform for your own business and tools.'
subtitle: 'Use Supabase as a platform for your own business and tools.'
---


Supabase is a [Platform as a Service](https://en.wikipedia.org/wiki/Platform_as_a_service) that can be managed programmatically. You can use it to offer services to your own users. Supabase is commonly used as a platform for AI Tools, agents, and vibe-coding companies.

This document will guide you on best practices when using Supabase as a PaaS.

![Platform as a Service](/docs/img/integrations/paas-intro.png)


## Getting started

All features of Supabase can be managed through the [Management API](/docs/reference/api/introduction) or the [MCP Server](/docs/guides/getting-started/mcp).


### Launching projects

https://api.supabase.com/api/v1#tag/projects/POST/v1/projects

You can launch a new project using `POST /projects`. Use a _very_ secure database password (we recommend generating one for users). This password should never be stored in plain text.

```sh
curl https://api.supabase.com/v1/projects \
  --request POST \
  --header 'Content-Type: application/json' \
  --data '{
        "name": "Todo App",
        "organization_id": "{ref}",
        "region": "us-east-1",
        "desired_instance_size": "pico",
        "db_pass": ""
    }'
```

- Pico instances are available for Partners. Pico databases scale down when they are not used.
- You can use your own organization ID if you are managing databases on behalf of the users. If you are launching a database in their account you will need your users to provide you with an API token which has the appropriate [OAuth Scopes](/docs/guides/integrations/build-a-supabase-integration/oauth-scopes).


## Development workflow

Supabase is a _stateful_ service: we store data. If anything breaks in production, you can't simply "roll back" to a point in time because doing so might cause your users to lose any data that their production enviroment received since the last checkpoint.

Because of this, it's important that you adopt a development workflow on behalf of your users:

![Change flow](/docs/img/integrations/change-flow.png)


### Creating a `DEV` Branch

https://api.supabase.com/api/v1#tag/environments/POST/v1/projects/{ref}/branches


After launching a Project, it's important that all changes happen on a branch. Branches can be treated like ephemeral servers: if anything goes wrong you can either revert the changes or destroy the branch and create a new one from production.

```sh
curl https://api.supabase.com/v1/projects/branches \
  --request POST \
  --header 'Content-Type: application/json' \
  --data '{
  "branch_name": "DEV",
  "persistent": true,
  "region": "",
  "desired_instance_size": "pico",
  "release_channel": "internal",
  "postgres_engine": "15"
}'
```

### Make a change

https://api.supabase.com/api/v1#tag/database/POST/v1/projects/{ref}/database/migrations

For this example we will create a todos table using the `POST /database/migrations` endpoint.

```sql
create table public.todos (
  id serial primary key,
  task text not null
);

alter table public.todos
enable row level security;
```

This endpoint will automatically create a migration inside the `supabase_migrations` schema. If the schema migration fails, the changes will be rolled back.

```sh
curl https://api.supabase.com/v1/projects/{ref}/database/migrations \
  --request POST \
  --header 'Content-Type: application/json' \
  --data '{
  "query": "create table public.todos (id serial primary key, task text not null); alter table public.todos enable row level security;",
  "name": "Create a todos table"
}'
```

### Add seed data

<Admonition type="warning" title="Do not use production data in branches!">

It's important that the data in development branches is NOT production data, especially for non-developers who don't understand the implications of working with data. Security and side-effects (e.g. emailing all production users) are two reasons why this is important.

</Admonition>

It's common in `DEV` branches to "seed" data. This is basic test data for users. Let's insert the following seed to our new todos table:

```sql
insert into todos (task)
values
    ('Task 1'),
    ('Task 2'),
    ('Task 3');
```

You can use the `POST /database/query` endpoint to add data:

```sh
curl https://api.supabase.com/v1/projects/{ref}/database/query \
  --request POST \
  --header 'Content-Type: application/json' \
  --data @- <<EOF
  {
    "query": "insert into todos (task) values ('Task 1'), ('Task 2'), ('Task 3');"
  }
  EOF
```


### Merge all changes

https://api.supabase.com/api/v1#tag/environments/POST/v1/branches/{branch_id}/merge

Once the changes have been made, you can merge the changes into production

```sh
curl https://api.supabase.com/v1/branches/merge \
  --request POST \
  --header 'Content-Type: application/json' \
  --data '{
  "migration_version": ""
}'
```

Merging changes will automatically merge:

* Database changes
* Edge Functions

The following changes are _not_ automatically merged right now and need to be run manually on your production branch:

*


## Making changes


### Database changes

Database changes are handled through migrations.


### Edge Functions changes

You can develop Edge Functions on a branch and then merge them into Production.

![Deploy Edge Functions](/docs/img/integrations/change-functions.png)

```sh
curl https://api.supabase.com/v1/projects/functions/deploy \
  --request POST \
  --header 'Content-Type: multipart/form-data' \
  --form 'file=' \
  --form 'metadata={"entrypoint_path":"","import_map_path":"","static_patterns":[""],"verify_jwt":true,"name":""}'
```

### Configuration changes

You can manage the configuration of all services using the Management API. This includes Auth configuration like enabling and disabling SSO Pro

- Auth: https://api.supabase.com/api/v1#tag/auth/PATCH/v1/projects/{ref}/config/auth
- Data APIs: https://api.supabase.com/api/v1#tag/rest/PATCH/v1/projects/{ref}/postgrest
- Storage: https://api.supabase.com/api/v1#tag/storage/PATCH/v1/projects/{ref}/config/storage

## Reverting changes

- TODO

![Revert](/docs/img/integrations/revert.png)

### Reverting database changes

https://api.supabase.com/api/v1#tag/database/POST/v1/projects/{ref}/database/backups/restore-pitr

<Admonition type="warning" title="Use the {ref} of the branch, not the production project!">

If you revert a production database it can result in data loss.

</Admonition>

You call roll back your database to a timestamp in the past:

```sh
curl https://api.supabase.com/v1/projects/{ref}/database/backups/restore-pitr \
  --request POST \
  --header 'Content-Type: application/json' \
  --data '{
  "recovery_time_target_unix": 1
}'
```

When you revert the database, you are undo-ing all database changes since the specified point in time, including:

* Schema changes
* Any seed data that you inserted
* Any test users who have signed up (and auth tokens for sign ins)
* Pointers to files in Supabase Storage.

It will not affect:

* Configuration changes
* Any secrets that have been added

### Reverting Edge Functions

- `TODO`: how to roll back an edge function to a previous version


### Reverting configuration

- `TODO`: how to roll back config


## Disaster Recovery

- Rollbacks can cause data loss. Only use in in `PROD` when absolutely necessary
- Only available in prod when a user has explicitly enabled PITR

![Rollback](/docs/img/integrations/rollback.png)


Supabase creates continuous backups of production branches. To rollback you can use the [Restore API](https://api.supabase.com/api/v1#tag/database/POST/v1/projects/{ref}/database/backups/restore-pitr):

```sh
curl https://api.supabase.com/v1/projects/database/backups/restore-pitr \
  --request POST \
  --header 'Content-Type: application/json' \
  --data '{
  "recovery_time_target_unix": 1
}'
```

## Project transfer flow

If youâ€™re building Supabase Projects under your Supabase Organization on behalf of your users, they might eventually want to transfer those Projects to their own Organizations.

You can transfer a Project under your Organization to your user's Organization while gaining permission to continue interacting with the Project by following these steps:

1. **Generate a project transfer token** to begin the transfer process. You must be an `Owner` of the Project in order to initiate the transfer.

   ```sh
   curl https://api.supabase.com/v1/projects/{ref}/claim-token \
     --request POST \
     --header 'Content-Type: application/json' \
     --header 'Authorization: Bearer {PERSONAL_ACCESS_TOKEN}'
   ```

2. **Generate an OAuth ID** to gain permission to your user's Organization and the Project after it's transferred. Make sure you do not follow the redirect to get the `auth_id` from the redirect URI as part of the response.

   ```sh
   curl --request GET \
     --url 'https://api.supabase.com/v1/oauth/authorize?client_id={OAUTH_CLIENT_ID}&response_type=code&redirect_uri={OAUTH_REDIRECT_URI}' \
     --max-redirs 0
   ```

   For details on creating a Supabase OAuth integration, see the [Build a Supabase Integration](/docs/guides/integrations/build-a-supabase-integration) guide.

3. **Complete the project transfer** by taking the project transfer token and the OAuth ID from previous steps and redirecting the user to the project transfer + OAuth approval UI.

   ```sh
   curl -i 'https://supabase.com/authorize?token={PROJECT_TRANSFER_TOKEN}&auth_id={OAUTH_ID}'
   ```

   The user can then follow these steps in the UI:

   1. Create a new Supabase account or sign in to an existing one
   2. Create a new Supabase Organization or select an existing one
   3. Review your OAuth app's permission scopes
   4. Review the Project transfer details
   5. Confirm the OAuth integration and the Project transfer for the selected Organization
