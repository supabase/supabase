---
title: Migrating within Supabase
subtitle: Learn how to migrate from one Supabase project to another
---

<Admonition type="caution">

For Paid Plan projects, use the simpler and more reliable [Restore to a new project feature](/dashboard/project/_/database/backups/restore-to-new-project)

</Admonition>

<Admonition type="tip">

If you need to move your project to a different organization, see [project transfers](/docs/guides/platform/project-transfer).

</Admonition>

---

## Important to know

- What will be restored to the new project?

  - Database schema (tables, views, procedures)
  - All data and indexes
  - Database roles, permissions and users
  - Auth user data (user accounts, hashed passwords, and authentication records from the auth schema)

- What needs manual reconfiguration?

  - Storage objects & settings
  - Edge Functions
  - Auth settings & API keys
  - Realtime settings
  - Database extensions and settings
  - Read replicas

---

### Backup database

    1. Install the [Supabase CLI](/docs/guides/local-development/cli/getting-started).

    2. Install [Docker Desktop](https://www.docker.com) for your platform.

    3. Get the Database connection string

        <ProjectConfigVariables variable="sessionpooler" />

        If you do not have your database password, reset the password in the [Database Settings](/dashboard/project/_/settings/database).

    4. Run these commands after replacing ```[CONNECTION_STRING]``` with your updated connection string

        ```bash
        supabase db dump --db-url [CONNECTION_STRING] -f roles.sql --role-only
        supabase db dump --db-url [CONNECTION_STRING] -f schema.sql
        supabase db dump --db-url [CONNECTION_STRING] -f data.sql --use-copy --data-only
        ```

### Restore database backup

1.  Install [PostgreSQL](https://www.postgresql.org/download/) which includes the command line tool psql

2.  Create a [new project](https://database.new). In the new project:

    - Enable [Database Webhooks](/dashboard/project/_/database/hooks) as needed.
    - Enable the [Extensions](/dashboard/project/_/database/extensions) used in the old project.

3.  Get the Database connection string

        <ProjectConfigVariables variable="sessionpooler" />

        If you do not have your database password, reset the password in the [Database Settings](/dashboard/project/_/settings/database).

4.  Run the following command:

          ```bash
          psql \
            --single-transaction \
            --variable ON_ERROR_STOP=1 \
            --file roles.sql \
            --file schema.sql \
            --file data.sql \
            --dbname [CONNECTION_STRING]
          ```

      Depending on your local configuration, the following parameters may need to be set (example below) :
      - sslmode
      - gssencmode

      ```bash
      postgresql://postgres.[REF]:[YOUR-PASSWORD]@[REGION].pooler.supabase.com:5432/postgres?sslmode=require&gssencmode=disable
      ```

## Alternative method

**Disclaimer - This is experimental and you should use at own risk**

The following operations can be done remotely with no local setup required via the Google Colab notebook below:

 - Backup database
 - Restore backup
 - Migrate Storage (from active project or zip file with objects)

[![Supabase Migration notebook](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/PLyn/supabase-storage-migrate/blob/main/Supabase_Storage_migration.ipynb)
