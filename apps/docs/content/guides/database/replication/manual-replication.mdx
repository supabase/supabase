---
id: 'manual-replication'
title: 'Manual Replication'
description: 'Configure your own replication using external tools and Postgres logical replication.'
subtitle: 'Set up replication with third-party tools for full control over your data sync.'
sidebar_label: 'Overview'
---

Manual Replication allows you to configure your own replication using external tools and Postgres's native logical replication. This gives you full control over the replication process and allows you to use any tool that supports Postgres logical replication.

<Admonition type="note">

This guide covers **Manual Replication** using external tools. For a managed solution, see [ETL Replication](/docs/guides/database/replication/etl-replication). For deploying read-only databases across multiple regions, see [Read Replicas](/docs/guides/platform/read-replicas) instead.

</Admonition>

## When to use Manual Replication

Choose Manual Replication when you need:

- **Custom destinations**: Replicate to any system that supports Postgres logical replication
- **Full control**: Configure every aspect of the replication process
- **Specific tools**: Use your preferred ETL tool (Airbyte, Fivetran, Estuary, etc.)
- **Advanced configuration**: Fine-tune replication settings for your specific use case
- **Existing infrastructure**: Integrate with your current ETL pipelines

## How Manual Replication works

Manual Replication uses Postgres's built-in logical replication feature, which relies on three key components:

1. **Publication**: A set of tables on your primary database that will be replicated
2. **Replication Slot**: A slot used for replicating data from a publication
3. **Subscription**: Created by the external system to receive changes from the publication

The Write-Ahead Log (WAL) captures all database changes, and logical replication transmits these changes to your external system.

## Supported tools

You can use any tool that supports Postgres logical replication, including:

- **[Airbyte](https://airbyte.com/)**: Open-source data integration platform
- **[Estuary](https://estuary.dev/)**: Real-time data pipeline platform
- **[Fivetran](https://www.fivetran.com/)**: Automated data integration service
- **[Materialize](https://materialize.com/)**: Streaming SQL database
- **[Stitch](https://www.stitchdata.com/)**: Cloud-based ETL service
- **Custom solutions**: Any tool supporting Postgres logical replication

## Getting started

To set up Manual Replication:

1. **[Set up replication](/docs/guides/database/replication/manual-replication-setup)** - Configure publications, replication slots, and your external tool
2. **[Monitor replication](/docs/guides/database/replication/manual-replication-monitoring)** - Track replication lag and status
3. **[Review FAQ](/docs/guides/database/replication/manual-replication-faq)** - Find answers to common questions

## Prerequisites

Before setting up manual replication:

- **Instance size**: XL or greater recommended
- **IPv4 add-on**: [Enabled](/docs/guides/platform/ipv4-address) (if your tool doesn't support IPv6)
- **Postgres user**: Access to the `postgres` user (required for Postgres 16 and below)
- **Network access**: Your external tool must be able to connect to your Supabase database

## Comparison with ETL Replication

| Feature | Manual Replication | ETL Replication |
|---------|-------------------|----------------|
| **Setup complexity** | Requires tool configuration | Dashboard-based setup |
| **Destinations** | Any tool supporting logical replication | Specific supported destinations |
| **Management** | You manage the tool | Fully managed by Supabase |
| **Flexibility** | Full control over configuration | Predefined configuration |
| **Monitoring** | Tool-dependent | Built-in dashboard monitoring |
| **Cost** | Tool licensing costs may apply | Included with project |

## Key concepts

### Write-Ahead Log (WAL)

Postgres uses a Write-Ahead Log to manage changes to the database. As changes occur, they are appended to the WAL. Once a checkpoint occurs, Postgres synchronizes the WAL with your database.

### Logical replication

Logical replication is a method where Postgres uses WAL files to transmit changes to another Postgres database or a system that supports reading WAL files.

### Log Sequence Number (LSN)

LSN identifies the position of a WAL file in the WAL directory. It's used to determine replication progress and calculate lag.

### Replication slots

Replication slots ensure that the WAL files needed by a subscriber are retained until the subscriber has processed them. If a slot becomes inactive or lost, replication will stop.

## Configuration options

Several Postgres settings affect replication performance:

| Setting | Description | User-facing |
|---------|-------------|-------------|
| `max_replication_slots` | Maximum number of replication slots allowed | No |
| `wal_keep_size` | Minimum size of WAL files to keep for replication | No |
| `max_slot_wal_keep_size` | Maximum WAL size that can be reserved by replication slots | No |
| `checkpoint_timeout` | Maximum time between WAL checkpoints | No |

While not all settings are user-configurable, you can adjust some via the [Supabase CLI](/docs/guides/database/custom-postgres-config).

## Important considerations

### Direct connections only

Always use the direct connection string for logical replication. Connections through a pooler (such as Supavisor) will not work.

### IPv4 support

If your ETL tool doesn't support IPv6, enable the [IPv4 add-on](/docs/guides/platform/ipv4-address) for your project.

### Resource usage

Logical replication consumes:
- **Database resources**: CPU and memory for reading WAL files
- **Network bandwidth**: Transferring changes to the external system
- **Disk space**: WAL files are kept until processed by all replication slots

Monitor your [database metrics](/docs/guides/platform/metrics) to ensure adequate resources.

### Backup and restore

When restoring from a backup, you'll need to drop all subscriptions and replication slots first. See the [troubleshooting guide](/troubleshooting/failed-to-restore-from-backup-all-subscriptions-and-replication-slots-must-be-dropped-before-a-backup-can-be-restored-L-rCvt) for details.

## Best practices

1. **Start small**: Test with a single table before replicating your entire database
2. **Monitor regularly**: Keep an eye on replication lag and WAL size
3. **Use appropriate instance size**: Ensure your instance can handle the replication load
4. **Configure alerting**: Set up alerts for replication failures or high lag
5. **Document your setup**: Keep track of publications, slots, and tool configurations
6. **Test failover**: Understand how your tool handles connection failures

## Limitations

- **Replication method**: Only logical replication is supported (not streaming or physical replication for external tools)
- **Postgres version**: Some features require Postgres 17+ (e.g., granting replication permissions to non-superusers)
- **Primary key requirement**: Tables must have primary keys for replication
- **Schema changes**: Most tools don't automatically handle schema changes; plan for manual intervention

## Next steps

- [Set up Manual Replication](/docs/guides/database/replication/manual-replication-setup)
- [Monitor your replication](/docs/guides/database/replication/manual-replication-monitoring)
- [Review Manual Replication FAQ](/docs/guides/database/replication/manual-replication-faq)
- [Learn about ETL Replication](/docs/guides/database/replication/etl-replication) (alternative approach)
