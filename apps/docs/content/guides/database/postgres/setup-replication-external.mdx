---
title: 'Replicate from Supabase to another Postgres database using Logical Replication'
description: 'Example to setup logical replication using publish-subscribe to a Postgres database outside of Supabase'
footerHelpType: 'postgres'
---

For most use cases, our managed [Read Replica](/docs/content/guides/platform/read-replicas.mdx) service will be more than enough for your [replication](/docs/content/guides/database/replication.mdx) needs.

When you need a more manual replication setup, setting up logical replication is the way to go. Before we dive in, let's cover some points about logical replication.

Logical replication works by creating [publications](https://www.postgresql.org/docs/current/sql-createpublication.html), that use [replication slots](https://www.postgresql.org/docs/current/warm-standby.html#STREAMING-REPLICATION-SLOTS), to send data from your database to any [subscriptions](https://www.postgresql.org/docs/current/logical-replication-subscription.html) against your publication.

Supabase Realtime uses [replication](/docs/docs/ref/realtime/realtime.mdx) in this way. Being able to configure your own replication can be vital for some, but it can also have some side effects that impact on your database performance.

## Replication from Supabase to PostgreSQL

For this example, you will need:

- A Supabase project
- A Postgres database (running v10 or newer)

You will be running commands on both of these databases to publish changes from the Supabase database to the external database.

1. Create a `publication` on the **Supabase database**:

```sql
CREATE PUBLICATION example_pub;
```

2. Also on the **Supabase database**, create a `replication slot`:

```sql
select pg_create_logical_replication_slot('example_slot', 'pgoutput');
```

3. Now we will connect to our **external database** and subscribe to our `publication` Note: ):

<Admonition type="note">

This will need a direct connection to your database and you can find the connection info in the [Dashboard](https://supabase.com/dashboard/project/_/settings/database).

You will also need to ensure that ipv6 is supported by your replication destination.

If you would prefer not to use the `postgres` user, then you can run `CREATE ROLE <user> WITH REPLICATION;` using the `postgres` user.

</Admonition>

```sql
CREATE SUBSCRIPTION example_sub
CONNECTION 'host=db.oaguxblfdassqxvvwtfe.supabase.co user=postgres password=YOUR_PASS dbname=postgres'
PUBLICATION example_pub
WITH (copy_data = true, create_slot=false, slot_name=example_slot);
```

<Admonition type="note">

`create_slot` is set to `false` because `slot_name` is provided and the slot was already created in Step 2.
To copy data from before the slot was created, set `copy_data` to `true`.

</Admonition>

4. Add all the tables that you want replicated to the publication.

```sql
ALTER PUBLICATION example_pub ADD TABLE example_table;
```

5. Check the replication status using `pg_stat_replication`

```sql
select * from pg_stat_replication;
```

## Replication from Supabase to Data Warehouses using ETL tools

For this example, you will need:
- A Supabase project
- An ETL tool, such as: [Estuary](https://supabase.com/partners/integrations/estuary), 
A destination data-source (such as [Airbyte](https://airbyte.com/), [Materialize](https://materialize.com/) or [Estuary](https://estuary.dev/))

ETL stands for `Extract`, `Transform` and `Load` and they do exactly that. Using the logical replication functionality of PostgreSQL, these tools extract changes from your database, transform them (if necessary) to suit your needs or to support the destination and then load the data to your configured destination.

The steps are similar to the section above but you should check the specific documentation for the tool/service that you are using.


