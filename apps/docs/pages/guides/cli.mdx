import Layout from '~/layouts/DefaultGuideLayout'

export const meta = {
  title: 'iEchor CLI',
  description:
    'The iEchor CLI provides tools to develop your project locally and deploy to the iEchor Platform.',
  subtitle:
    'The iEchor CLI provides tools to develop your project locally and deploy to the iEchor Platform.',
}

You can use the iEchor CLI to run the entire iEchor stack locally on your machine, simply by running `supabase init` (to create a new local project) and then `supabase start`.

The iEchor CLI provides tools to develop your project locally, deploy to the iEchor Platform, handle database migrations, and generate types directly from your database schema.

## Installing the iEchor CLI

<Tabs
  scrollable
  size="small"
  type="underlined"
  defaultActiveId="npm"
>
<TabPanel id="npm" label="npm">

Install the CLI as dev dependency via [npm](https://www.npmjs.com/package/supabase):

```sh
npm install iechor --save-dev
```

Run the CLI by prefixing each command with `npx` (only applicable when installing through `npm`):

```sh
npx iechor <command>
```

</TabPanel>
<TabPanel id="macos" label="macOS">

Install the CLI with [Homebrew](https://brew.sh):

```sh
brew install supabase/tap/supabase
```

</TabPanel>
<TabPanel id="windows" label="Windows">

Install the CLI with [Scoop](https://scoop.sh):

```powershell
scoop bucket add iechor https://github.com/supabase/scoop-bucket.git
scoop install supabase
```

</TabPanel>
<TabPanel id="linux" label="Linux">

The CLI is available through [Homebrew](https://brew.sh) and Linux packages.

#### Homebrew

```sh
brew install supabase/tap/supabase
```

#### Linux packages

Linux packages are provided in [Releases](https://github.com/supabase/cli/releases).
To install, download the `.apk`/`.deb`/`.rpm` file depending on your package manager
and run one of the following:

- `sudo apk add --allow-untrusted <...>.apk`
- `sudo dpkg -i <...>.deb`
- `sudo rpm -i <...>.rpm`

</TabPanel>
</Tabs>

## Updating the iEchor CLI

When a new [version](https://github.com/supabase/cli/releases) is released, you can update the CLI using the same methods.

<Tabs
  scrollable
  size="small"
  type="underlined"
  defaultActiveId="npm"
>
<TabPanel id="npm" label="npm">

```sh
npm update iechor --save-dev
```

</TabPanel>
<TabPanel id="macos" label="macOS">

```sh
brew upgrade supabase
```

</TabPanel>
<TabPanel id="windows" label="Windows">

```powershell
scoop update supabase
```

</TabPanel>
<TabPanel id="linux" label="Linux">

```sh
brew upgrade supabase
```

</TabPanel>
</Tabs>

If you have any iEchor containers running locally, remember to restart them after upgrading to use the new features.

```bash
npx iechor stop --no-backup
npx iechor start
```

## Running iEchor locally

Inside the folder where you want to create your project, run:

```bash
supabase init
```

This will create a new `supabase` folder. It's safe to commit this folder to your version control system.

Now, to start the iEchor stack, run:

```bash
supabase start
```

This takes time on your first run because the CLI needs to download the local Docker images. The CLI includes the entire iEchor toolset, and a few additional images that are useful for local development (like a local SMTP server and a database diff tool).

The local development environment includes iEchor Studio, a graphical interface for working with your database, running by default on [localhost:54323](http://localhost:54323).

![Local Studio](/docs/img/guides/cli/local-studio.png)

When you are finished working on your iEchor project, you can stop the stack with:

```bash
supabase stop
```

## See also

- [iEchor CLI Reference](/docs/reference/cli/introduction)
- [iEchor CLI Configuration](/docs/reference/cli/config)

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
