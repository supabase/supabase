import Layout from '~/layouts/DefaultGuideLayout'

export const meta = {
  id: 'customizing-email-templates',
  title: 'Customizing email templates',
  description: 'Customizing local email templates using config.toml.',
  subtitle: 'Customizing local email templates using config.toml.',
}

You can customize the email templates for local development [using the `config.toml` settings](/docs/guides/cli/managing-config).

## Auth Templates 

There are several Auth templates which can be configured, detailed in the [CLI Config Reference](/docs/guides/cli/config#auth-config).

For example, to update the "Invite" email subject and content for local development, you can append the following information to `config.toml`:

```toml
[auth.email.template.invite]
subject = "You are invited to Acme Inc"
content_path = "./supabase/auth/email/invite.html"
```

The `content_path` should contain the html file you are pointing to otherwise the CLI won't start the project.

### Email template variables

The templating system provides the following variables for use:

| Name                     | Description                                                                                                                                                                                                       |
| ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `{{ .ConfirmationURL }}` | Contains the confirmation URL. For example, a signup confirmation URL would look like: `https://project-ref.supabase.co/auth/v1/verify?token={{ .TokenHash }}&type=signup&redirect_to=https://example.com/path` . |
| `{{ .Token }}`           | Contains a 6-digit One-Time-Password (OTP) that can be used instead of the `{{. ConfirmationURL }}` .                                                                                                             |
| `{{ .TokenHash }}`       | Contains a hashed version of the `{{ .Token }}`. This is useful for constructing your own email link in the email template.                                                                                       |
| `{{ .SiteURL }}`         | Contains your application's Site URL. This can be configured in your project's [authentication settings](https://supabase.com/dashboard/project/_/auth/url-configuration).                                        |
| `{{ .Email }}`           | Contains the user's email address.                                                                                                                                                                                |
| `{{ .NewEmail }}`        | Contains the new user's email address.                                                                                                                                                                            |

<Admonition type="note">

`{{ .NewEmail }}` is only available in the email_change email template

</Admonition>

## Deploying email templates

These settings are only for local development. To update your hosted project, please copy the templates into the [Email Templates](/dashboard/project/_/auth/templates) section of the Dashboard.

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
