import Layout from '~/layouts/DefaultGuideLayout'

export const meta = {
  id: 'customizing-email-templates',
  title: 'Customizing email templates',
  description: 'Customizing local email templates using config.toml.',
}

The Supabase CLI uses a `config.toml` file to manage local configuration. This file is located in the `supabase` directory of your project.

## Config reference

The `config.toml` file is automatically created when you run `supabase start`.

There are a wide variety of options available, which can be found in the [CLI Config Reference](/docs/reference/cli/config).

For example, to update the "Invite" email subject and content for local development, you can append the following information to `config.toml`:

```toml
[auth.email.template.invite]
subject = "You are invited to Acme Inc"
content_path = "./supabase/auth/email/invite.html"
```

The `content_path` should contain the html file you are pointing to otherwise the CLI won't start the project.

<Admonition type="note">

These settings are only for local development, if you want to use the same content for your hosted Supabase instance you will need to copy and paste these into the Supabase Dashboard

</Admonition>

### Email template variables

The templating system provides the following variables for use:

| Name                     | Description                                                                                                                                                                                                       |
| ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `{{ .ConfirmationURL }}` | Contains the confirmation URL. For example, a signup confirmation URL would look like: `https://project-ref.supabase.co/auth/v1/verify?token={{ .TokenHash }}&type=signup&redirect_to=https://example.com/path` . |
| `{{ .Token }}`           | Contains a 6-digit One-Time-Password (OTP) that can be used instead of the `{{. ConfirmationURL }}` .                                                                                                             |
| `{{ .TokenHash }}`       | Contains a hashed version of the `{{ .Token }}`. This is useful for constructing your own email link in the email template.                                                                                       |
| `{{ .SiteURL }}`         | Contains your application's Site URL. This can be configured in your project's [authentication settings](https://supabase.com/dashboard/project/_/auth/url-configuration).                                        |
| `{{ .Email }}`           | Contains the user's email address.                                                                                                                                                                                |
| `{{ .NewEmail }}`        | Contains the new user's email address.                                                                                                                                                                            |

<Admonition type="note">

`{{ .NewEmail }}` is only available in the email_change email template

</Admonition>

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
