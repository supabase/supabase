import Layout from '~/layouts/DefaultGuideLayout'

export const meta = {
  id: 'structured-unstructured-embeddings',
  title: 'Structured and unstructured embeddings',
  description:
    'Supabase is flexible enough to provide structured and unstructured embeddings using pgvector.',
  subtitle:
    'Supabase is flexible enough to provide structured and unstructured embeddings using pgvector.',
  sidebar_label: 'Structured and unstructured embeddings',
}

Most vector stores treat embeddings like NoSQL, unstructured data. Supabase is flexible enough to fit either a structured or an unstructured approach.

Compare these code snippets:

## Structured

```sql
create table docs (
  id uuid primary key,
  content text,
  url string,
  embedding vector(1536)
);

insert into docs
  (id, content, url, embedding)
values
  ('79409372-7556-4ccc-ab8f-5786a6cfa4f7', 'Hello world', '/hello-world', [100, 200, 300]);
```

A structured approach is usually defined in SQL, and managed via database [migrations](/docs/guides/getting-started/local-development#database-migrations).

## Unstructured

```py
import vecs

docs = vx.create_collection(name="docs", dimension=1536)

docs.upsert(vectors=[
  ('79409372-7556-4ccc-ab8f-5786a6cfa4f7', [100, 200, 300], { url: '/hello-world' })
])

```

An unstructured approach is usually defined in Python and has a looser table definition, storing metadata as a json document along with the embedding.

## Choosing the right model

Both approaches create a table where you can store your embeddings and some metadata. You should choose the best approach for your use-case.

- Structured embeddings are typically co-located with some content that is already stored in your database.
- Unstructured embeddings are typically defined at runtime, better-suited for a large body of external content.

Both approaches are fine, and the one you should choose depends on your use-case.

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
