import Layout from '~/layouts/DefaultGuideLayout'
import { IconPanel } from 'ui'
import Link from 'next/link'
import { SocialLoginItems } from '~/components/Navigation/NavigationMenu/NavigationMenu.constants'

export const meta = {
  title: 'Social Login',
  description: 'Logging in with social accounts',
  subtitle: 'Implement Social Login in a heartbeat with Supabase and increase your registrations.',
}

## What is Social login?

Social Login is Oauth, which is an open standard for authentication that allows users to log in to one website or application using their credentials from another website or application.
It is a way for users to grant third-party applications access to their online accounts without sharing their passwords.

Oauth is commonly used for things like logging in to a social media account from a third-party app. It is a secure and convenient way to authenticate users and share information between applications.

## Why should I use Social login for my application?

There are several reasons why you might want to add social login to your applications:

1. **Improved user experience**: Social login allows users to log in to your application using their existing social media accounts, which can be faster and more convenient than creating a new account from scratch. This can make it easier for users to access your application, which can improve their overall experience.

2. **Increased registration and conversion rates**: Social login can make it easier for users to register for and use your application, which can lead to increased registration and conversion rates. By making the registration process simpler and more convenient, you can attract more users and encourage them to take the desired actions within your application.

3. **Better user engagement**: By using social login, you can access additional data and insights about your users, such as their interests, demographics, and social connections. This can help you tailor your content and marketing efforts to better engage with your users and provide a more personalized experience.

4. **Increased security**: Social login can improve the security of your application by leveraging the security measures and authentication protocols of the social media platforms that your users are logging in with. This can help protect against unauthorized access and account takeovers.

Overall, adding social login to your applications can improve the user experience, increase registration and conversion rates, enhance user engagement, and improve security.

## Setting up a Social Provider app to use Supabase Social Auth

You can follow each of these guides to implement Social 0Auth for any of these providers.
If you've already set up your social provider you skip ahead and follow the implementation instructions [here](#how-to-add-social-0auth-to-your-application).

<div className="grid grid-cols-12 gap-10 not-prose py-8">
  {SocialLoginItems.map((item) => (  
    <Link href={`/${item.url}`} key={item.name} passHref>
      <a className="col-span-6 lg:col-span-4 xl:col-span-3">
        <IconPanel
          title={item.name}
          span="col-span-6"
          icon={item.icon}
          isDarkMode={item.isDarkMode}
        >
          {item.description}
        </IconPanel>
      </a>
    </Link>
))}

</div>

## How to add Social 0Auth to your application

To use a social provider (e.g. Google, Facebook, Twitter) with Supabase in a JavaScript application, you can follow these steps:

Make sure the social provider is added and enabled in the Supabase dashboard, as described in the previous answer.

Install the Supabase client library in your JavaScript application by running the following command:

<Tabs
  scrollable
  size="large"
  type="underlined"
  defaultActiveId="js"
>
<TabPanel id="js" label="JavaScript" icon={<img className="m-0 w-4 h-4" src="/docs/img/icons/javascript-icon.svg"/>}>

<div>

Pick the framework (if any) that you are using:

<Tabs
  scrollable
  size="small"
  type="pills"
  defaultActiveId="react"
>

<TabPanel id="react" label="React" icon={<img className="m-0 w-4 h-4" src="/docs/img/icons/react-icon.svg"/>}>

<CH.Code>

```js src/Auth.js
import { useState } from 'react'
import { supabase } from './supabaseClient'

export default function Auth() {
  const handleLogin = async (e) => {
    e.preventDefault()
    await supabase.auth.signInWithOAuth({
      provider: 'google',
    })
  }

  return (
    <form onSubmit={handleLogin}>
      <button>Sign up with Google</button>
    </form>
  )
}
```

---

```js src/supabaseClient.js
import { createClient } from '@supabase/supabase-js' const supabaseUrl = process.env.REACT_APP_SUPABASE_URL const supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY
export const supabase = createClient(supabaseUrl, supabaseAnonKey)
```

</CH.Code>

</TabPanel>

<TabPanel id="nextjs" label="NextJS" icon={<img className="m-0 w-4 h-4" src="/docs/img/icons/nextjs-icon.svg"/>}>

```bash
npx create-next-app@latest --ts --use-npm supabase-nextjs
cd supabase-nextjs
```

</TabPanel>

<TabPanel id="dart" label="Remix" icon={<img className="m-0 w-4 h-4" src="/docs/img/icons/remix-icon.svg"/>}>

```bash
npx create-next-app@latest --ts --use-npm supabase-nextjs
cd supabase-nextjs
```

</TabPanel>

<TabPanel id="js" label="Vanilla JS" icon={<img className="m-0 w-4 h-4" src="/docs/img/icons/javascript-icon.svg"/>}>

```bash
npm install @supabase/supabase-js
```

<CH.Code>

```js script.js
import { createClient } from '@supabase/supabase-js'

// Create a single supabase client for interacting with your database
const supabase = createClient('https://xyzcompany.supabase.co', 'public-anon-key')

async function handleSubmit(event) {
  event.preventDefault()
  const { data, error } = await supabase.auth.signInWithOAuth({
    provider: 'google',
  })
}
```

---

```html index.html
<form onSubmit="handleSubmit()">
  <button>Sign up with Google</button>
</form>
```

</CH.Code>

</TabPanel>

</Tabs>

</div>

</TabPanel>
<TabPanel id="ts" label="TypeScript" icon={<img className="m-0 w-4 h-4" src="/docs/img/icons/typescript-icon.svg"/>}>

```bash
npx create-next-app@latest --ts --use-npm supabase-nextjs
cd supabase-nextjs
```

</TabPanel>

<TabPanel id="dart" label="Flutter" icon={<img className="m-0 w-4 h-4" src="/docs/img/icons/flutter-icon.svg"/>}>

```bash
npx create-next-app@latest --ts --use-npm supabase-nextjs
cd supabase-nextjs
```

</TabPanel>

</Tabs>

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
