import React from 'react'
import { useMobileViewport } from '../../../hooks/useMobileViewport'
import { UserData } from '../Ticket/hooks/use-conf-data'
import { TicketBrickWallRow } from './TicketBrickWallRow'

type user = UserData

interface Props {
  users: user[]
}

export default function TicketBrickWall({ users }: Props) {
  const isMobile = useMobileViewport(768)
  return (
    <div className="relative pt-28 pb-20 md:py-40">
      <div className="mx-auto bg-[#1C1C1C]">
        <div className="max-w-[38rem] mx-auto">
          <h2 className="radial-gradient-text-scale-500 text-center">
            Explore the unique tickets generated by our community
          </h2>
        </div>
        <div
          className="grid py-12 relative
            before:content-[' '] before:absolute before:inset-0 before:right-auto before:w-1/4 before:bg-gradient-to-r before:from-[#1C1C1C] before:to-[#1C1C1C00] before:z-10 before:pointer-events-none
            after:content-[' '] after:absolute after:inset-0 after:left-auto after:w-1/4 after:bg-gradient-to-l after:from-[#1C1C1C] after:to-[#1C1C1C00] after:z-10 after:pointer-events-none
          "
        >
          <TicketBrickWallRow
            users={users.slice(0, isMobile ? 5 : 7)}
            xOffset={isMobile ? 50 : 250}
          />
          {/* TODO: set the correct amount of users when enough data */}
          <TicketBrickWallRow users={users.slice(isMobile ? 5 : 3, isMobile ? 11 : 14)} reverse />
          {isMobile && <TicketBrickWallRow users={users.slice(3, 15)} />}
        </div>
      </div>
    </div>
  )
}
